(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{3861:(e,s,t)=>{Promise.resolve().then(t.bind(t,2572))},2572:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>h});var l=t(5155),r=t(2115),a=t(1536);function n(e){let{setNewIssueModalOpen:s}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"flex w-full bg-black h-16 text-white items-center",children:[(0,l.jsx)("p",{className:"font-black text-2xl tracking-widest text-green-600 ml-6",children:"<Log />"}),(0,l.jsxs)("button",{onClick:()=>{s(!0)},className:"hidden md:flex absolute flex-row  items-center right-3 text-md bg-[#0D1117] px-3 py-1 text-green-600 border border-[#0D1117] hover:border-green-600",children:[(0,l.jsx)(a.OiG,{className:"text-[8px] mr-1"})," ","new log"]})]})})}function i(e){let{issue:s}=e;return(0,l.jsxs)("div",{className:"bg-black w-[90%] max-w-[800px] min-h-[100px] p-4 text-white cursor-pointer",children:[(0,l.jsxs)("div",{className:"w-full flex flex-row justify-between",children:[(0,l.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,l.jsxs)("div",{className:"text-red-500",children:["#",s.issueNumber]})," ",(0,l.jsx)("div",{className:"font-black text-green-600",children:s.newIssueName})," "]}),(0,l.jsx)("div",{className:"px-3 font-bold ".concat("log"===s.badge?"bg-blue-600":"feat"===s.badge?"bg-orange-600":"fix"===s.badge?"bg-red-600":""),children:s.badge})]}),(0,l.jsx)("hr",{className:"my-3 border-[#0D1117]"}),(0,l.jsxs)("div",{className:"font-extralight",children:[(0,l.jsx)("p",{className:"text-justify",children:s.description})," "]}),(0,l.jsxs)("div",{className:"mt-3 w-full flex justify-between text-[#8098A1]",children:[(0,l.jsxs)("span",{children:[s.vault," vault "]}),(0,l.jsxs)("span",{children:["created at: ",new Date(s.createdAt).toLocaleString()]})]})]})}var c=t(1589),o=t(9949),d=t(7058);let x=e=>{let{isOpen:s,onClose:t,selectedIssue:a}=e,[n,i]=(0,r.useState)("");(0,r.useEffect)(()=>{a&&i(a.log||"")},[a]);let x=async()=>{if(a)try{let e=(0,d.H9)(o.db,"issues",a.id);await (0,d.mZ)(e,{log:n}),alert("Log saved successfully")}catch(e){console.error("Error saving log:",e)}},u=async()=>{if(a)try{let e=(0,d.H9)(o.db,"issues",a.id);await (0,d.kd)(e),t(),console.log("Issue deleted successfully")}catch(e){console.error("Error deleting issue:",e)}};return(0,l.jsxs)("div",{className:"fixed top-0 right-0 h-full font-mono ".concat(s?"translate-x-0":"translate-x-full"," transition-transform duration-300 bg-black border-l border-black text-white w-3/5 p-6"),children:[(0,l.jsx)("button",{onClick:t,className:"absolute top-4 right-4 text-red-500 p-2 rounded-full",children:(0,l.jsx)(c.GWt,{})}),(0,l.jsxs)("div",{className:"flex flex-col gap-4 h-full",children:[a?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold",children:a.newIssueName}),(0,l.jsxs)("div",{className:"text-red-500 text-xl font-bold mr-12",children:["Issue #",a.issueNumber]})]}),(0,l.jsx)("hr",{className:"border border-gray-600"}),(0,l.jsxs)("div",{className:"h-full flex flex-col",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold",children:"Log:"}),(0,l.jsx)("textarea",{value:n,onChange:e=>i(e.target.value),className:"w-full grow bg-black text-white border border-gray-600 p-2 mt-2",style:{resize:"none"},placeholder:"Enter your log here...",spellCheck:!0})]})]}):(0,l.jsx)("p",{children:"No issue selected."}),(0,l.jsxs)("div",{className:"w-full flex gap-2",children:[(0,l.jsx)("button",{onClick:u,className:"mt-4 py-2 px-4 grow text-red-600 font-bold border border-red-600 hover:bg-red-500 hover:text-white",children:"Delete Log"}),(0,l.jsx)("button",{onClick:x,className:"mt-4 py-2 px-4 grow-[10] text-green-600 font-bold border border-green-600 hover:bg-green-500 hover:text-white",children:"save Log"})]})]})]})};function u(e){let{setNewIssueModalOpen:s,onIssueAdded:t}=e,[a,n]=(0,r.useState)(""),[i,c]=(0,r.useState)(""),[x,u]=(0,r.useState)(""),[h,m]=(0,r.useState)("log"),[f,g]=(0,r.useState)("Personal"),[j,b]=(0,r.useState)(""),p=async()=>{let e={newIssueName:a,description:i,issueNumber:x,badge:h,vault:f,log:j,createdAt:new Date().toISOString()};try{await (0,d.gS)((0,d.rJ)(o.db,"issues"),e),console.log("Issue saved to Firestore"),alert("item issued successfully!"),s(!1)}catch(e){console.error("Error saving to Firestore",e)}t()},w=e=>{e&&e.target===e.currentTarget&&s(!1)};return(0,l.jsx)("div",{className:"fixed top-0 left-0 h-full w-full bg-gray-800 bg-opacity-50 flex items-center justify-center",onClick:w,children:(0,l.jsxs)("div",{className:"bg-black text-white w-[90%] max-w-[800px] h-[85%] p-8 flex flex-col font-mono",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex flex-row justify-center w-full items-center h-12 p-2",children:[(0,l.jsx)("h2",{className:"text-xs md:text-xl font-bold text-green-600 w-[20%]",children:"New Issue:"}),(0,l.jsx)("input",{type:"text",name:"newIssueName",id:"newIssueName",maxLength:60,className:"grow ml-3 h-full bg-[#0D1117]",onChange:e=>n(e.target.value),value:a})]}),(0,l.jsxs)("div",{className:"flex flex-row justify-center w-full items-center h-12 p-2",children:[(0,l.jsx)("h2",{className:"text-xs md:text-xl font-bold text-[#8098A1] w-[20%]",children:"Description:"}),(0,l.jsx)("input",{type:"text",name:"description",id:"description",maxLength:200,className:"grow ml-3 h-full bg-[#0D1117]",onChange:e=>c(e.target.value),value:i})]}),(0,l.jsxs)("div",{className:"w-full p-2 flex flex-row justify-around mt-3 h-12 border-2 border-[#0D1117]",children:[(0,l.jsxs)("div",{className:"flex flex-row grow-[1] items-center",children:[(0,l.jsx)("p",{className:"text-red-500 text-xl",children:"#"}),(0,l.jsx)("input",{type:"number",maxLength:5,className:"grow mx-3 h-full bg-[#0D1117]",onChange:e=>u(e.target.value),value:x})]}),(0,l.jsxs)("div",{className:"flex flex-row grow-[5] items-center",children:[(0,l.jsx)("p",{className:"text-[#8098A1]",children:"Badge"}),(0,l.jsxs)("select",{className:"grow mx-3 h-full bg-[#0D1117] text-white text-center",onChange:e=>m(e.target.value),value:h,children:[(0,l.jsx)("option",{value:"log",children:"Log"}),(0,l.jsx)("option",{value:"feat",children:"Feat"}),(0,l.jsx)("option",{value:"fix",children:"Fix"})]})]}),(0,l.jsxs)("div",{className:"flex flex-row grow-[5] items-center",children:[(0,l.jsx)("p",{className:"text-[#8098A1]",children:"Vault"}),(0,l.jsxs)("select",{className:"grow ml-3 h-full bg-[#0D1117] text-white text-center",onChange:e=>g(e.target.value),value:f,children:[(0,l.jsx)("option",{value:"Personal",children:"Personal"}),(0,l.jsx)("option",{value:"Work",children:"Work"}),(0,l.jsx)("option",{value:"Studies",children:"Studies"})]})]})]})]}),(0,l.jsx)("h2",{className:"mt-4",children:"First Log:"}),(0,l.jsx)("textarea",{name:"log",id:"log",className:"w-full grow bg-[#0D1117] p-2 mt-2",style:{resize:"none"},onChange:e=>b(e.target.value),value:j}),(0,l.jsxs)("div",{className:"w-full space-x-3 flex justify-end",children:[(0,l.jsx)("button",{onClick:w,className:"mt-4 border border-red-500 py-2 px-4 text-red-500 hover:bg-red-500 hover:text-white",children:"Cancel"}),(0,l.jsx)("button",{onClick:p,className:"mt-4 border border-green-500 py-2 px-4 text-green-500 hover:bg-green-500 hover:text-white",children:"Save New Log"})]})]})})}function h(){let[e,s]=(0,r.useState)(!1),[t,a]=(0,r.useState)(null),[c,h]=(0,r.useState)(!1),[m,f]=(0,r.useState)([]),[g,j]=(0,r.useState)("Work"),b=o.j.currentUser,p=e=>{a(e),s(!0)},w=async()=>{try{let e=(0,d.rJ)(o.db,"issues"),s=(0,d.P)(e,(0,d._M)("vault","==",g)),t=await (0,d.GG)(s),l=[];t.forEach(e=>{l.push({id:e.id,...e.data()})}),f(l)}catch(e){console.error("Error fetching issues:",e)}};return(0,r.useEffect)(()=>{w()},[g]),(0,l.jsxs)(l.Fragment,{children:[c&&(0,l.jsx)(u,{setNewIssueModalOpen:h,onIssueAdded:w}),(0,l.jsxs)("div",{className:"h-screen w-full font-mono",children:[(0,l.jsx)(n,{setNewIssueModalOpen:h}),(0,l.jsx)("div",{className:"w-full flex items-center justify-center mt-6",children:(0,l.jsxs)("div",{className:"flex flex-row text-[#8098A1] w-full max-w-[800px] justify-between",children:[(0,l.jsxs)("span",{children:["Welcome, ",null==b?void 0:b.displayName]}),(0,l.jsxs)("select",{className:"h-full bg-[#0D1117] text-[#8098A1] text-center p-1",value:g,onChange:e=>j(e.target.value),children:[(0,l.jsx)("option",{value:"Personal",children:"Personal"}),(0,l.jsx)("option",{value:"Work",children:"Work"}),(0,l.jsx)("option",{value:"Studies",children:"Studies"})]})]})}),(0,l.jsx)("div",{className:"mt-6 pb-3 w-full flex flex-col space-y-4",children:m.length>0?m.map(e=>(0,l.jsx)("div",{className:"w-full flex justify-center",onClick:()=>p(e),children:(0,l.jsx)(i,{issue:e})},e.id)):(0,l.jsx)("div",{className:"text-center text-white",children:"No issues found"})})]}),(0,l.jsx)(x,{isOpen:e,onClose:()=>{s(!1)},selectedIssue:t})]})}},9949:(e,s,t)=>{"use strict";t.d(s,{M:()=>c,db:()=>o,j:()=>i});var l=t(9904),r=t(399),a=t(7058);let n=(0,l.Wp)({apiKey:"AIzaSyCnGkmYEQBASfQM8bd2vN9rLdxw0IVm2fA",authDomain:"logs-c3132.firebaseapp.com",projectId:"logs-c3132",storageBucket:"logs-c3132.firebasestorage.app",messagingSenderId:"405260170505",appId:"1:405260170505:web:107b83817e16f366b58fd8"}),i=(0,r.xI)(n),c=new r.HF,o=(0,a.aU)(n)}},e=>{var s=s=>e(e.s=s);e.O(0,[446,992,579,711,917,441,517,358],()=>s(3861)),_N_E=e.O()}]);